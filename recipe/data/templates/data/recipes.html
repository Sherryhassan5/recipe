{% extends 'data/base.html' %}
{% block title %}
Recipes
{% endblock %}
{% block content %}
<div class="container py-5">
    <h1 class="text-center py-5">Recipes</h1>
    {% for msg in messages %}
    <div class="w-75 mx-auto">

        <div class="alert alert-primary alert-dismissible fade show" role="alert">
            <strong> {{msg}}</strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
    {% endfor %}
    <table class="table mx-auto mt-5" border="1px">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Recipe Name</th>
            <th scope="col" style="width: 50% !important;">Recipe Description</th>
            <th scope="col">Recipe Image</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
            {% for recipe in recipes %}
          <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{ recipe.recipe_title }}</td>
            <td>{{ recipe.recipe_description|truncatechars:220 }} <a href="/recipe/recipe_detail/{{ recipe.id }}">Read More</a>
            </td>
            <td><img src="/media/{{ recipe.recipe_img }}" alt="" height="100px"></td>
            <td>
                <a href="editrecipe/{{recipe.id}}" class="btn bg-success text-light m-2">Edit</a>
                <a href="deleterecipe/{{recipe.id}}" class="btn bg-danger text-light m-2">Delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
</div>

{% endblock %}